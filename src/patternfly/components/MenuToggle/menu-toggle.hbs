<{{#ifAny menu-toggle--IsDiv menu-toggle--IsSplitButton}}div{{else}}button{{/ifAny}} class="{{pfv}}menu-toggle
  {{#if menu-toggle--IsPrimary}}
    pf-m-primary
  {{/if}}
  {{#if menu-toggle--IsSecondary}}
    pf-m-secondary
  {{/if}}
  {{#if menu-toggle--IsPlain}}
    pf-m-plain
  {{/if}}
  {{#if menu-toggle--IsSmall}}
    pf-m-small
  {{/if}}
  {{#if menu-toggle--IsText}}
    pf-m-text
  {{/if}}
  {{#if menu-toggle--IsExpanded}}
    pf-m-expanded
  {{/if}}
  {{#if menu-toggle--IsTypeahead}}
    pf-m-typeahead
  {{/if}}
  {{#unless menu-toggle--IsSplitButton}}
    {{#if menu-toggle--IsDisabled}}
      pf-m-disabled
    {{/if}}
  {{/unless}}
  {{#if menu-toggle--IsSplitButton}}
    pf-m-split-button
    {{#if menu-toggle--IsDisabled}}
      pf-m-disabled
    {{/if}}
  {{/if}}
  {{#if menu-toggle--IsSuccess}}
    pf-m-success
  {{/if}}
  {{#if menu-toggle--IsWarning}}
    pf-m-warning
  {{/if}}
  {{#if menu-toggle--IsDanger}}
    pf-m-danger
  {{/if}}
  {{#if menu-toggle--IsPlaceholder}}
    pf-m-placeholder
  {{/if}}
  {{#if menu-toggle--modifier}} {{menu-toggle--modifier}}{{/if}}"
  {{#unless (concat menu-toggle--IsDiv menu-toggle--IsSplitButton)}}
    type="button"
    {{#if menu-toggle--IsExpanded}}
      aria-expanded="true"
    {{else}}
      aria-expanded="false"
    {{/if}}
    {{#if menu-toggle--IsDisabled}}
      disabled
    {{/if}}
  {{/unless}}

  {{#if menu-toggle--IsPlain}}
    {{#unless menu-toggle--text}}
      aria-label='Menu toggle'
    {{/unless}}
  {{/if}}

  {{#if menu-toggle--id}}
    id="{{menu-toggle--id}}"
  {{/if}}
  {{#if menu-toggle--attribute}}
    {{{menu-toggle--attribute}}}
  {{/if}}>
  {{#if menu-toggle--IsCheck}}
    {{> check
        check--id=(dasherize menu-toggle--id 'check')
        check--IsLabelWrapped=true
        check--IsStandalone=true
      }}
  {{/if}}
  {{#if menu-toggle--icon}}
    {{> menu-toggle-icon}}
  {{/if}}
  {{#if menu-toggle--text}}
    {{> menu-toggle-text}}
  {{/if}}
  {{#if menu-toggle--badge--count}}
    {{#> menu-toggle-count}}
      {{> badge badge--modifier="pf-m-unread" badge--text=menu-toggle--badge--count}}
    {{/menu-toggle-count}}
  {{/if}}
  {{#ifAny menu-toggle--IsPlain @partial-block}}
    {{#if menu-toggle--HasKebab}}
      {{#> menu-toggle-icon}}
        <i class="fas fa-{{ternary menu-toggle--icon menu-toggle--icon 'ellipsis-v'}}" aria-hidden=true></i>
      {{/menu-toggle-icon}}
    {{else if menu-toggle--UsesButton}}
      {{> button
        button--IsPlain=true
        button--IsIcon=true
        button--icon='ellipsis-v'
        button--IsDisabled=menu-toggle--IsDisabled
        button--IsAriaDisabled=menu-toggle--IsAriaDisabled
        button--IsExpanded=menu-toggle--IsExpanded
        button--aria-label='Actions'}}
    {{/if}}
    {{!-- TODO: refactor this logic --}}
    {{#if menu-toggle--text}}
      {{#> menu-toggle-controls}}
        {{> menu-toggle-toggle-icon}}
      {{/menu-toggle-controls}}
    {{/if}}
    {{#if @partial-block}}
      {{> @partial-block}}
    {{/if}}
  {{else}}
    {{#> menu-toggle-controls}}
      {{#ifAny menu-toggle--IsSuccess menu-toggle--IsWarning menu-toggle--IsDanger}}
        {{> menu-toggle-status-icon}}
      {{/ifAny}}
      {{> menu-toggle-toggle-icon}}
    {{/menu-toggle-controls}}
  {{/ifAny}}
</{{#ifAny menu-toggle--IsDiv menu-toggle--IsSplitButton}}div{{else}}button{{/ifAny}}>
