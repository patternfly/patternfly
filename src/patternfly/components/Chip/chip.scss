@use '../../sass-utilities' as *;

.#{$chip} {
  --#{$chip}--PaddingBlockStart: var(--#{$pf-global}--spacer--xs);
  --#{$chip}--PaddingInlineEnd: var(--#{$pf-global}--spacer--sm);
  --#{$chip}--PaddingBlockEnd: var(--#{$pf-global}--spacer--xs);
  --#{$chip}--PaddingInlineStart: var(--#{$pf-global}--spacer--sm);
  --#{$chip}--BackgroundColor: var(--#{$pf-global}--Color--light-100);
  --#{$chip}--BorderRadius: var(--#{$pf-global}--BorderRadius--sm);
  --#{$chip}--before--BorderColor: var(--#{$pf-global}--BorderColor--300);
  --#{$chip}--before--BorderWidth: var(--#{$pf-global}--BorderWidth--sm);
  --#{$chip}--before--BorderRadius: var(--#{$chip}--BorderRadius);

  // overflow chip button
  --#{$chip}--m-overflow__text--Color: var(--#{$pf-global}--primary-color--100);

  // draggable chip
  --#{$chip}--m-draggable--BackgroundColor: var(--#{$pf-global}--BackgroundColor--200);
  --#{$chip}--m-draggable--BoxShadow: var(--#{$pf-global}--BoxShadow--sm);
  --#{$chip}--m-draggable__icon--FontSize: var(--#{$pf-global}--icon--FontSize--sm);

  // chip content
  --#{$chip}__content--FontSize: var(--#{$pf-global}--FontSize--xs);
  --#{$chip}__content--ColumnGap: var(--#{$pf-global}--spacer--xs);

  // chip text
  --#{$chip}__text--Color: var(--#{$pf-global}--Color--100);
  --#{$chip}__text--MaxWidth: 16ch;
  --#{$chip}__c-badge--MarginInlineStart: var(--#{$pf-global}--spacer--xs);

  // chip actions
  --#{$chip}__actions--FontSize: var(--#{$pf-global}--FontSize--xs);

  // buttons within chip actions
  --#{$chip}__actions--c-button--PaddingBlockStart: var(--#{$pf-global}--spacer--xs);
  --#{$chip}__actions--c-button--PaddingInlineEnd: var(--#{$pf-global}--spacer--sm);
  --#{$chip}__actions--c-button--PaddingBlockEnd: var(--#{$pf-global}--spacer--xs);
  --#{$chip}__actions--c-button--PaddingInlineStart: var(--#{$pf-global}--spacer--sm);
  --#{$chip}__actions--c-button--MarginBlockStart: calc(var(--#{$chip}--PaddingBlockStart) * -1);
  --#{$chip}__actions--c-button--MarginInlineEnd: calc(var(--#{$chip}--PaddingInlineEnd) / 2 * -1);
  --#{$chip}__actions--c-button--MarginBlockEnd: calc(var(--#{$chip}--PaddingBlockEnd) * -1);
  --#{$chip}__actions--c-button--FontSize: var(--#{$pf-global}--FontSize--xs);

  // icon
  --#{$chip}__icon--MarginInlineStart: var(--#{$pf-global}--spacer--sm);

  position: relative;
  display: inline-flex;
  align-items: center;
  min-width: 0;
  padding-block-start: var(--#{$chip}--PaddingBlockStart);
  padding-block-end: var(--#{$chip}--PaddingBlockEnd);
  padding-inline-start: var(--#{$chip}--PaddingInlineStart);
  padding-inline-end: var(--#{$chip}--PaddingInlineEnd);
  list-style: none;
  background-color: var(--#{$chip}--BackgroundColor);
  border-radius: var(--#{$chip}--BorderRadius);

  &::before {
    position: absolute;
    inset-block-start: 0;
    inset-block-end: 0;
    inset-inline-start: 0;
    inset-inline-end: 0;
    content: "";
    border: var(--#{$chip}--before--BorderWidth) solid var(--#{$chip}--before--BorderColor);
    border-radius: var(--#{$chip}--before--BorderRadius);
  }

  // Chip overflow modifier
  &.pf-m-overflow {
    border: 0;

    .#{$chip}__text {
      color: var(--#{$chip}--m-overflow__text--Color);
    }
  }

  &.pf-m-draggable {
    --#{$chip}--BackgroundColor: var(--#{$chip}--m-draggable--BackgroundColor);

    box-shadow: var(--#{$chip}--m-draggable--BoxShadow);

    .#{$chip}__icon {
      font-size: var(--#{$chip}--m-draggable__icon--FontSize);
    }
  }
}

// Text element
.#{$chip}__text {
  @include pf-v6-text-overflow;

  position: relative;
  max-width: var(--#{$chip}__text--MaxWidth);
  color: var(--#{$chip}__text--Color);

  .#{$badge} {
    margin-inline-start: var(--#{$chip}__c-badge--MarginInlineStart); // remove in breaking change
  }
}

.#{$chip}__icon + .#{$chip}__text,
.#{$chip}__text + .#{$chip}__icon {
  margin-inline-start: var(--#{$chip}__icon--MarginInlineStart);
}

.#{$chip}__content {
  display: flex;
  column-gap: var(--#{$chip}__content--ColumnGap);
  align-items: center;
  font-size: var(--#{$chip}__content--FontSize);
}

.#{$chip}__actions {
  font-size: var(--#{$chip}__actions--FontSize);

  // Actions Button
  .#{$button} {
    --#{$button}--PaddingBlockStart: var(--#{$chip}__actions--c-button--PaddingBlockStart);
    --#{$button}--PaddingInlineEnd: var(--#{$chip}__actions--c-button--PaddingInlineEnd);
    --#{$button}--PaddingBlockEnd: var(--#{$chip}__actions--c-button--PaddingBlockEnd);
    --#{$button}--PaddingInlineStart: var(--#{$chip}__actions--c-button--PaddingInlineStart);
    --#{$button}--FontSize: var(--#{$chip}__actions--c-button--FontSize);

    margin-block-start: var(--#{$chip}__actions--c-button--MarginBlockStart);
    margin-block-end: var(--#{$chip}__actions--c-button--MarginBlockEnd);
    margin-inline-end: var(--#{$chip}__actions--c-button--MarginInlineEnd);
    line-height: 1;
  }
}
